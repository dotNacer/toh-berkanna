<div class="p-4 md:p-16">
    <!-- Header -->
    <h1 class="text-3xl md:text-4xl bricolage font-extrabold mb-8 md:mb-12">
        {{ 'BATTLE.LOBBY.TITLE' | translate }}
    </h1>

    <!-- Player Name Section -->
    <div class="mb-8">
        <div
            class="border-2 border-black bg-white p-4 md:p-8 shadow-[8px_8px_0px_0px_rgba(0,0,0,1)]"
        >
            <h2 class="text-xl md:text-2xl bricolage font-bold mb-6">
                {{ 'BATTLE.LOBBY.PLAYER_SETUP' | translate }}
            </h2>
            <div class="flex flex-col md:flex-row gap-4">
                <input
                    type="text"
                    [(ngModel)]="playerName"
                    placeholder="{{ 'BATTLE.LOBBY.ENTER_NAME' | translate }}"
                    [disabled]="hasSetName"
                    class="w-full md:flex-grow px-4 py-2 border-2 border-black focus:outline-none"
                />
                <button
                    (click)="setPlayerName()"
                    [disabled]="!playerName || hasSetName"
                    class="rounded-none w-full md:w-auto px-4 py-2 border-2 border-black bg-yellow-200 hover:bg-yellow-300 transition-colors font-bold shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] active:shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] active:translate-x-[2px] active:translate-y-[2px] disabled:opacity-50 disabled:cursor-not-allowed"
                >
                    {{ 'BATTLE.LOBBY.SET_USERNAME' | translate }}
                </button>
            </div>
        </div>
    </div>

    <!-- Game Rooms Section -->
    <div
        class="grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-12"
        *ngIf="hasSetName"
    >
        <!-- Create Room -->
        <div
            class="border-2 border-black bg-white p-4 md:p-8 shadow-[8px_8px_0px_0px_rgba(0,0,0,1)]"
        >
            <h2 class="text-xl md:text-2xl bricolage font-bold mb-6">
                {{ 'BATTLE.LOBBY.CREATE_ROOM' | translate }}
            </h2>
            <div class="flex flex-col gap-4 md:flex-row">
                <input
                    type="text"
                    [(ngModel)]="newRoomName"
                    placeholder="{{
                        'BATTLE.LOBBY.ENTER_ROOM_NAME' | translate
                    }}"
                    class="w-full md:flex-grow px-4 py-2 border-2 border-black focus:outline-none"
                />
                <button
                    (click)="createRoom()"
                    [disabled]="!newRoomName"
                    class="rounded-none w-full md:w-auto px-4 py-2 border-2 border-black bg-purple-200 hover:bg-purple-300 transition-colors font-bold shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] active:shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] active:translate-x-[2px] active:translate-y-[2px] disabled:opacity-50 disabled:cursor-not-allowed"
                >
                    {{ 'BATTLE.LOBBY.CREATE_ROOM' | translate }}
                </button>
            </div>
        </div>

        <div
            class="border-2 border-black bg-white p-4 md:p-8 shadow-[8px_8px_0px_0px_rgba(0,0,0,1)]"
        >
            <h2 class="text-xl md:text-2xl bricolage font-bold mb-6">
                {{ 'BATTLE.LOBBY.AVAILABLE_ROOMS' | translate }}
            </h2>

            <div class="space-y-4">
                <div
                    *ngIf="battleState.availableRooms.length === 0"
                    class="text-gray-500 text-center py-8 border-2 border-black"
                >
                    {{ 'BATTLE.LOBBY.NO_ROOMS' | translate }}
                </div>

                <div
                    *ngFor="let room of battleState.availableRooms"
                    class="flex flex-col md:flex-row justify-between items-center p-4 border-2 border-black hover:bg-gray-50 transition-colors gap-4"
                >
                    <div
                        class="font-bold w-full md:w-auto text-center md:text-left"
                    >
                        {{ room }}
                    </div>
                    <button
                        (click)="joinRoom(room)"
                        class="w-full md:w-auto px-4 py-2 border-2 border-black bg-green-200 hover:bg-green-300 transition-colors font-bold shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] active:shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] active:translate-x-[2px] active:translate-y-[2px]"
                    >
                        {{ 'BATTLE.LOBBY.JOIN_ROOM' | translate }}
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
